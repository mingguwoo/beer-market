<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nio.ngfs.plm.bom.configuration.infrastructure.repository.mapper.BomsFeatureLibraryMapper">



    <select id="queryFeatureOptionLists" resultType="com.nio.ngfs.plm.bom.configuration.infrastructure.repository.entity.BomsFeatureLibraryEntity">
        select
        feature_code featureCode,
        parent_feature_code parentFeatureCode,
        display_name displayName,
        chinese_name chineseName,
        description,
        selection_type selectionType,
        may_must,
        catalog,
        maturity
        from
        boms_feature_library
        where feature_code not in (
        select  feature_code  from boms_oxo_row_info where model_code=#{modelCode} and
        del_flag=0 )  and type='Option' and status='Active' and del_flag=0
    </select>


</mapper>
